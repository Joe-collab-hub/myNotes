<!--
  ~ Time:2022/4/5 14:58 38
  ~ Name:13 key的原理.html
  ~ Path:Vue/dey01
  ~ ProjectName:前端
  ~ Author:突然
  ~
  ~  Il n'ya qu'un héroïsme au monde : c'est de voir le monde tel qu'il est et de l'aimer.
  -->
<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta content="IE=edge" http-equiv="X-UA-Compatible">
	<meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport">
	<title>更新数据时的一个问题</title>
	<script src="../../js/vue.js"></script>
</head>
<body>
<div id="root">
	<h2>人员列表</h2>
	<button @click="updateMei">更新马冬梅的数据</button>
	<ul>
		<li v-for="(p,index) of persons" :key="p.id">
			{{ p.name }}-{{ p.age }}-{{ p.sex }}
		</li>
	</ul>
</div>
</body>
<script>
	Vue.config.productionTip = false;

	const vm = new Vue({
		el: '#root',
		data () {
			return {
				persons: [
					{ id: '001', name: '马冬梅', age: 28, sex: '女' },
					{ id: '002', name: '周冬雨', age: 49, sex: '女' },
					{ id: '003', name: '周杰伦', age: 31, sex: '男' },
					{ id: '004', name: '林俊杰', age: 22, sex: '男' },
				],
			};
		},
		methods: {
			updateMei () {
				// this.persons[0].name = '马老师';    // 奏效
				// this.persons[0].age = 50;        // 奏效
				// this.persons[0].sex = '男';         // 奏效

				this.persons[0] = { id: '001', name: '马老师', age: 50, sex: '男' };  // 不奏效  数据内容改变，页面不变
			},
		},
	});
</script>
</html>
